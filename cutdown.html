<!DOCTYPE HTML>
<html lang="zh-cn" ng-app="countDown">
<head>
    <meta charset="UTF-8">
    <title>scope</title>
    <style type="text/css">
        .ng-cloak {
            display: none;
        }
        .age{

        }
    </style>
</head>
<body>
<div class="ng-cloak" ng-controller="ControllerA">
    <div>{{day}}--{{houer}}--{{min}}--{{sec}}</div>

    <!-- {{m}} -->
 <div class="ng-cloak" ng-controller="ControllerB">
   
    <span ng:bind="day"></span>
    <span ng:bind="houer"></span>
    <span ng:bind="min"></span>
    <span ng:bind="sec"></span>
</div>    
    <button ng-click="houer=3">click me</button>
</div>

<script src="./angular-1.0.1.min.js" type="text/javascript"></script>
<script type="text/javascript">
// (function  () {
angular.module('countDown',[])
    .controller('ControllerA',['$scope','$rootScope',function  ($scope,$rootScope) {

        var countTime=new Date(2015,6,1)*1-new Date(2015,5,1)*1;

        var getTime=function  (countTime) {
            return{
                td:Math.floor(countTime/(3600*24*1000)),
                th:Math.floor((countTime%(3600*24))/3600),
                tm:Math.floor(countTime%3600/60),
                ts:Math.floor(countTime%60)
            }
        }
        $scope.click =function  () {
            countTime=new Date(2015,6,1)*1-new Date(2015,5,1)*1;
            console.log(countTime  );
        }
        var handle = setInterval(function  () {
            countTime--;
            console.log( countTime );
            var t=getTime(countTime);
            $scope.sec=t.ts;
            $scope.min=t.tm;
            $scope.houer=t.th;
            $scope.day=t.td;      
            if(countTime==0){
                clearInterval(handle);
            }              
            $scope.$apply();
        },1000)
    }])
function  ControllerB  () {
    // body...
}
    // function ControllerA($scope) {

    //     var N=new Date();
    //     var S=new Date(1435648967194);
    //     $scope.day=S.getDay()-N.getDay();
    //     $scope.houer=S.getHours()-N.getHours();
    //     $scope.min=S.getMinutes()-N.getMinutes();
    //     $scope.sec=S.getSeconds()-N.getSeconds();  

    //     var handle = setInterval(function  () {
    //         $scope.sec--;
    //         if($scope.sec<0){
    //             $scope.sec=59;
    //             $scope.min--;
    //         }
    //         if($scope.min<0){
    //             $scope.min=59;
    //             $scope.houer--;
    //             // $scope.day--;
    //         }     
    //         if($scope.houer<0){
    //             // $scope.houer=59;
    //             $scope.houer=23;
    //             $scope.day<0?0:$scope.day--;
    //         }        
    //         if(!($scope.day||$scope.houer||$scope.min||$scope.sec)){
    //             // alert('start');
    //             clearInterval(handle)
    //         }              
    //         // console.log( $scope.sec);
    //         $scope.$apply();
    //     },1000)


    // }

      
// })()

</script>
</body>
</html>